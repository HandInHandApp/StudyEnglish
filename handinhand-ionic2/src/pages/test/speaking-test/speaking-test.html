<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{headername}}</ion-title>
    <ion-buttons end>
      <button ion-button (click)="gotoReview()" type="submit" block>
        Review
      </button>
      <button ion-button (click)="gotoBack()" type="submit" block>
        BACK
      </button>
      <button ion-button (click)="gotoNext()" type="submit" block>
        NEXT
      </button>
    </ion-buttons>
  </ion-navbar>
  <ion-toolbar>
   <ion-buttons left>
      <button ion-button  (click)="gotoHome()" type="submit" block>
        首页
      </button>
      <button ion-button (click)="gotoNext()" type="submit" block>
        暂停
      </button>
    </ion-buttons>
    <div style="text-align:center;">
        <label *ngIf="step.indexOf('p')!=-1">{{passages.passage[step].title}} </label>
        <label *ngIf="step.indexOf('q')!=-1">{{passages.question[step].title}}</label>
    </div>
       <!-- <ion-buttons end>
      <button ion-button  (click)="gotoHome()" type="submit" block>
        首页
      </button>
      <button ion-button (click)="gotoNext()" type="submit" block>
        暂停
      </button>
    </ion-buttons> -->
     <ion-buttons end>
<span class="button-inner">
      <button ion-button (click)="gotoBack()" type="submit" block>
         HideTime
      </button> 
      <button ion-button  >
           {{minutestr}} : {{secondstr}} 
      </button> 
         
</span>

       <!-- <roy-countdown title="" [endDate]="endDate"></roy-countdown>  -->

    </ion-buttons> 
  </ion-toolbar>
</ion-header>





<ion-content #popoverContent padding class="popover-page  ">
<!-- 
    <vu-gauge height="2.5em" nbars="55" 
        [value]="webAudioRecord.currentVolume" 
        [max]="webAudioRecord.maxVolumeSinceReset">
    </vu-gauge>
    <p class="gain-item-label">
        Gain: {{percentGain}}% ({{decibels}})
        <button ion-button small text-uppercase (click)="onResetGain()">
            Reset Gain
        </button>
        <ion-range color="light" [(ngModel)]="gainRangeSliderValue" (ionChange)="onGainChange($event.value)" debounce="50" (touchend)="onRangeTouchEnd()" [max]="maxGainSliderValue">
        </ion-range>
    </p>
    <div class="recording-time">
        {{webAudioRecord.currentTime}}
    </div> -->

    <div class="record-upload-buttons">
        <button ion-button color="logo-red" [disabled]="!recorderIsReady()" (click)="onClickStartPauseButton()">
            <ion-icon [name]="recordButtonIcon">
            </ion-icon>
        </button>
        <button ion-button color="logo-orange" [disabled]="!recorderIsReady() || webAudioRecord.isInactive" (click)="onClickStopButton()">
            <ion-icon name="square">
            </ion-icon>
        </button>
               <div id="myurl">
                show xxx
            </div>
</div>
        <!-- <input type="file" id="photoFileUpload"  [(ngModel)]="myfiles"  />


     
    </div> -->


  <!-- <record-page> </record-page> -->
  <!-- <button ion-button (click)="startRecording()" type="submit" block>
         startRecording
      </button> 

        <button ion-button (click)="stopRecording()" type="submit" block>
         stopRecording
      </button> 

    <button ion-button (click)="startPlayback()" type="submit" block>
         startPlayback
      </button> 

         <button ion-button (click)="stopPlayback()" type="submit" block>
         stopPlayback
      </button>  -->




   <!--调用手机的录像功能和直接打开系统文件目录。苹果手机调出来的是拍照和录像安卓手机调出来的录音功能-->
   <!-- <input type="file" accept="audio/*" capture="microphone">  -->
    <!--nput:file标签还支持一个multiple属性，表示可以支持多选,capture就没啥用了，因为multiple是专门用来支持多选的。-->
   <!-- <input type="file" accept="audio/*" multiple> -->
   <!--上传文件-->
   <!-- <input type="file" name=""> -->
     

                <div *ngFor="let item of steps;  let i = index;"  >
                    <div *ngIf="step === item && step.indexOf('p')==-1">
                          <audio autoplay controls='controls' id='Audio1' style="width: 400px;" *ngIf="passages.question[item].mp3!=''">
                              <source src={{passages.question[item].mp3}} type='audio/mpeg' />
                               <!--<source src='assets/tpo34/tpo34_listening_passage1_1.mp3' type='audio/mpeg' />-->
                            </audio>

                        <ion-list radio-group>
                            <ion-list-header>
                                <div #popoverText class="text-to-change">
                                    {{passages.question[item].seq}}. {{passages.question[item].para}}
                                <!--1.  Paragraph 1 makes all of the following points about Islamic books EXCEPT:-->
                                </div>
                            </ion-list-header>
                        <ion-item>
                            <ion-label>{{passages.question[item].choices[0]}} </ion-label>
                            <ion-radio value="A" ></ion-radio>
                        </ion-item>
                        <ion-item>
                            <ion-label>{{passages.question[item].choices[1]}}</ion-label>
                            <ion-radio value="B"></ion-radio>
                        </ion-item>
                        <ion-item>
                            <ion-label>{{passages.question[item].choices[2]}} </ion-label>
                            <ion-radio value="C"></ion-radio>
                        </ion-item>

                        <ion-item>
                            <ion-label>{{passages.question[item].choices[3]}} </ion-label>
                            <ion-radio value="D"></ion-radio>
                        </ion-item>
                        </ion-list>
                    </div>      
                </div>
 
                <div #popoverText class="text-to-change">
                    <div *ngIf="step.indexOf('p')!=-1">

                      <ion-row>
                        <ion-col col-3></ion-col>
                        <ion-col col-6>
                            <a href="#" class="thumbnail" *ngIf="passages.passage[step].img!=''">
                            <img src={{passages.passage[step].img}} alt="" >
                            </a>
                            <!--{{passages.passage[step].mp3}}-->
                            <audio  autoplay controls='controls' id='Audio1' style="width: 400px;" *ngIf="passages.passage[step].mp3!=''">
                              <source src={{passages.passage[step].mp3}} type='audio/mpeg' />
                               <!--<source src='assets/tpo34/tpo34_listening_passage1_1.mp3' type='audio/mpeg' />-->
                            </audio>

                            <div  *ngIf="passages.passage[step].contents.length > 0">
                              <!--{{passages.passage[step].contents}}-->
                               <p *ngFor="let para of passages.passage[step].contents">{{para}}</p>
                            </div>

                        </ion-col>
                        <ion-col col-3></ion-col>
                    </ion-row>
                    </div>
                    <!--<div *ngIf="step.indexOf('q')!=-1">
                        <p>{{passages.question[step].para}}</p>
                    </div>-->
                </div>      

</ion-content>






